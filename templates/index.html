<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能车机系统</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- 顶部状态栏 -->
        <div class="status-bar">
            <div class="time" id="current-time"></div>
            <div class="status-indicators">
                <div class="status-indicator" id="voice-indicator">
                    <i class="fas fa-microphone"></i>
                </div>
                <div class="status-indicator" id="autopilot-indicator">
                    <i class="fas fa-car"></i>
                </div>
                <div class="status-indicator" id="fatigue-indicator">
                    <i class="fas fa-eye"></i>
                </div>
            </div>
        </div>

        <!-- 主滑动容器 -->
        <div class="main-container" id="main-container">
            <!-- 第一页：主界面 -->
            <div class="page">
                <div class="main-interface" id="main-interface">
                    <div class="welcome-section">
                        <h1>智能车机系统</h1>
                        <p>欢迎使用您的智能驾驶助手</p>
                    </div>
                    
                    <div class="main-content-wrapper">
                        <!-- 个性化设置模块 -->
                        <div class="personalization">
                            <h3>个性化</h3>
                            <div class="personalization-item">
                                <span>自动模式</span>
                                <div class="personalization-toggle active" onclick="togglePersonalization('auto')"></div>
                            </div>
                            <div class="personalization-item">
                                <span>夜间模式</span>
                                <div class="personalization-toggle" onclick="togglePersonalization('night')"></div>
                            </div>
                            <div class="personalization-item">
                                <span>节能模式</span>
                                <div class="personalization-toggle" onclick="togglePersonalization('eco')"></div>
                            </div>
                        </div>

                        <div class="function-grid">
                            <div class="function-card" onclick="showModule('vehicle')">
                                <i class="fas fa-car"></i>
                                <h3>车辆状态</h3>
                                <p>实时监控车辆信息</p>
                            </div>
                            <div class="function-card" onclick="showModule('ac')">
                                <i class="fas fa-snowflake"></i>
                                <h3>空调控制</h3>
                                <p>智能温控系统</p>
                            </div>
                            <div class="function-card" onclick="showModule('media')">
                                <i class="fas fa-music"></i>
                                <h3>多媒体</h3>
                                <p>娱乐系统控制</p>
                            </div>
                            <div class="function-card" onclick="showModule('navigation')">
                                <i class="fas fa-map-marked-alt"></i>
                                <h3>导航</h3>
                                <p>智能路线规划</p>
                            </div>
                            <div class="function-card" onclick="showModule('apps')">
                                <i class="fas fa-th"></i>
                                <h3>车载应用</h3>
                                <p>应用管理中心</p>
                            </div>
                            <div class="function-card" onclick="showModule('settings')">
                                <i class="fas fa-cog"></i>
                                <h3>设置</h3>
                                <p>系统个性化</p>
                            </div>
                        </div>

                        <!-- 疲劳检测模块 -->
                        <div class="fatigue-detection">
                            <div class="fatigue-status">
                                <i class="fas fa-eye" id="fatigue-icon"></i>
                                <h3 id="fatigue-title">疲劳检测</h3>
                                <p id="fatigue-status-text">状态正常</p>
                            </div>
                            <div class="fatigue-progress">
                                <div class="fatigue-bar" id="fatigue-bar"></div>
                            </div>
                            <p id="fatigue-level">疲劳度: 15%</p>
                        </div>
                    </div>

                    <!-- 语音控制按钮 -->
                    <div class="voice-control">
                        <button class="voice-btn" id="voice-btn" onclick="toggleVoiceControl()">
                            <i class="fas fa-microphone"></i>
                            <span>语音控制</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- 第二页：快捷功能 -->
            <div class="page">
                <div class="main-interface">
                    <div class="welcome-section">
                        <h1>快捷功能</h1>
                        <p>常用功能快速访问</p>
                    </div>
                    
                    <div class="function-grid">
                        <div class="function-card" onclick="quickAction('phone')">
                            <i class="fas fa-phone"></i>
                            <h3>电话</h3>
                            <p>蓝牙通话</p>
                        </div>
                        <div class="function-card" onclick="quickAction('message')">
                            <i class="fas fa-comment"></i>
                            <h3>消息</h3>
                            <p>短信管理</p>
                        </div>
                        <div class="function-card" onclick="quickAction('camera')">
                            <i class="fas fa-camera"></i>
                            <h3>摄像头</h3>
                            <p>环视系统</p>
                        </div>
                        <div class="function-card" onclick="quickAction('weather')">
                            <i class="fas fa-cloud-sun"></i>
                            <h3>天气</h3>
                            <p>实时天气</p>
                        </div>
                        <div class="function-card" onclick="quickAction('calendar')">
                            <i class="fas fa-calendar-alt"></i>
                            <h3>日程</h3>
                            <p>行程管理</p>
                        </div>
                        <div class="function-card" onclick="quickAction('emergency')">
                            <i class="fas fa-exclamation-triangle"></i>
                            <h3>紧急</h3>
                            <p>紧急求助</p>
                        </div>
                    </div>

                    <!-- 驾驶模式选择 -->
                    <div class="driving-modes">
                        <h3>驾驶模式</h3>
                        <div class="mode-selector">
                            <button class="mode-btn active" onclick="setDrivingMode('normal')">
                                <i class="fas fa-car"></i>
                                <span>标准</span>
                            </button>
                            <button class="mode-btn" onclick="setDrivingMode('sport')">
                                <i class="fas fa-tachometer-alt"></i>
                                <span>运动</span>
                            </button>
                            <button class="mode-btn" onclick="setDrivingMode('eco')">
                                <i class="fas fa-leaf"></i>
                                <span>节能</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 第三页：系统信息 -->
            <div class="page">
                <div class="main-interface">
                    <div class="welcome-section">
                        <h1>系统信息</h1>
                        <p>车辆和系统状态概览</p>
                    </div>
                    
                    <div class="system-info-grid">
                        <div class="info-card">
                            <i class="fas fa-microchip"></i>
                            <h3>系统版本</h3>
                            <p>v2.1.0</p>
                        </div>
                        <div class="info-card">
                            <i class="fas fa-wifi"></i>
                            <h3>网络状态</h3>
                            <p>已连接</p>
                        </div>
                        <div class="info-card">
                            <i class="fas fa-satellite"></i>
                            <h3>GPS信号</h3>
                            <p>强</p>
                        </div>
                        <div class="info-card">
                            <i class="fas fa-battery-three-quarters"></i>
                            <h3>系统电量</h3>
                            <p>85%</p>
                        </div>
                        <div class="info-card">
                            <i class="fas fa-thermometer-half"></i>
                            <h3>系统温度</h3>
                            <p>42°C</p>
                        </div>
                        <div class="info-card">
                            <i class="fas fa-clock"></i>
                            <h3>运行时间</h3>
                            <p>2小时15分</p>
                        </div>
                    </div>

                    <!-- 系统日志 -->
                    <div class="system-log">
                        <h3>系统日志</h3>
                        <div class="log-container">
                            <div class="log-item">
                                <span class="log-time">14:30</span>
                                <span class="log-message">系统启动完成</span>
                            </div>
                            <div class="log-item">
                                <span class="log-time">14:32</span>
                                <span class="log-message">GPS定位成功</span>
                            </div>
                            <div class="log-item">
                                <span class="log-time">14:35</span>
                                <span class="log-message">蓝牙设备已连接</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 滑动指示器 -->
        <div class="swipe-indicator">
            <div class="swipe-dot active" onclick="goToPage(0)"></div>
            <div class="swipe-dot" onclick="goToPage(1)"></div>
            <div class="swipe-dot" onclick="goToPage(2)"></div>
        </div>

        <!-- 车辆状态模块 -->
        <div class="module" id="vehicle-module">
            <div class="module-header">
                <h2>车辆状态</h2>
            </div>
            <div class="vehicle-status-grid">
                <div class="status-card">
                    <i class="fas fa-tachometer-alt"></i>
                    <h3>速度</h3>
                    <p id="vehicle-speed">0 km/h</p>
                </div>
                <div class="status-card">
                    <i class="fas fa-gas-pump"></i>
                    <h3>油量</h3>
                    <p id="vehicle-fuel">85%</p>
                </div>
                <div class="status-card">
                    <i class="fas fa-thermometer-half"></i>
                    <h3>温度</h3>
                    <p id="vehicle-temp">22°C</p>
                </div>
                <div class="status-card">
                    <i class="fas fa-battery-three-quarters"></i>
                    <h3>电池</h3>
                    <p id="vehicle-battery">90%</p>
                </div>
                <div class="status-card">
                    <i class="fas fa-tire"></i>
                    <h3>胎压</h3>
                    <p id="vehicle-tire">32/31/33/32 PSI</p>
                </div>
                <div class="status-card">
                    <i class="fas fa-road"></i>
                    <h3>里程</h3>
                    <p id="vehicle-odometer">12,500 km</p>
                </div>
            </div>
            <div class="module-footer">
                <button class="back-btn-footer" onclick="showMainInterface()">
                    <i class="fas fa-arrow-left"></i> 返回
                </button>
            </div>
        </div>

        <!-- 空调控制模块 -->
        <div class="module" id="ac-module">
            <div class="module-header">
                <h2>空调控制</h2>
            </div>
            <div class="ac-controls">
                <div class="ac-section">
                    <h3>温度控制</h3>
                    <div class="temperature-control">
                        <button onclick="adjustTemperature(-1)">-</button>
                        <span id="ac-temperature">22°C</span>
                        <button onclick="adjustTemperature(1)">+</button>
                    </div>
                </div>
                <div class="ac-section">
                    <h3>风速控制</h3>
                    <div class="fan-control">
                        <button onclick="adjustFanSpeed(-1)">-</button>
                        <span id="ac-fan-speed">2</span>
                        <button onclick="adjustFanSpeed(1)">+</button>
                    </div>
                </div>
                <div class="ac-section">
                    <h3>模式选择</h3>
                    <div class="mode-buttons">
                        <button class="mode-btn active" onclick="setACMode('auto')">自动</button>
                        <button class="mode-btn" onclick="setACMode('cool')">制冷</button>
                        <button class="mode-btn" onclick="setACMode('heat')">制热</button>
                    </div>
                </div>
                <div class="ac-section">
                    <h3>功能开关</h3>
                    <div class="function-buttons">
                        <button class="function-btn" onclick="toggleDefrost()">
                            <i class="fas fa-wind"></i>
                            除霜
                        </button>
                        <button class="function-btn" onclick="toggleRecirculation()">
                            <i class="fas fa-recycle"></i>
                            内循环
                        </button>
                    </div>
                </div>
            </div>
            <div class="module-footer">
                <button class="back-btn-footer" onclick="showMainInterface()">
                    <i class="fas fa-arrow-left"></i> 返回
                </button>
            </div>
        </div>

        <!-- 多媒体模块 -->
        <div class="module" id="media-module">
            <div class="module-header">
                <h2>多媒体娱乐</h2>
            </div>
            <div class="media-player">
                <div class="now-playing">
                    <div class="album-art">
                        <i class="fas fa-music"></i>
                    </div>
                    <div class="track-info">
                        <h3 id="current-track">未知歌曲</h3>
                        <p id="current-artist">未知艺术家</p>
                    </div>
                </div>
                <div class="media-controls">
                    <button onclick="previousTrack()">
                        <i class="fas fa-step-backward"></i>
                    </button>
                    <button class="play-btn" onclick="togglePlay()" id="play-btn">
                        <i class="fas fa-play"></i>
                    </button>
                    <button onclick="nextTrack()">
                        <i class="fas fa-step-forward"></i>
                    </button>
                </div>
                <div class="volume-control">
                    <i class="fas fa-volume-down"></i>
                    <input type="range" id="volume-slider" min="0" max="100" value="50" onchange="adjustVolume(this.value)">
                    <i class="fas fa-volume-up"></i>
                </div>
                <div class="source-selector">
                    <button class="source-btn active" onclick="changeSource('radio')">收音机</button>
                    <button class="source-btn" onclick="changeSource('bluetooth')">蓝牙</button>
                    <button class="source-btn" onclick="changeSource('usb')">USB</button>
                </div>
            </div>
            <div class="module-footer">
                <button class="back-btn-footer" onclick="showMainInterface()">
                    <i class="fas fa-arrow-left"></i> 返回
                </button>
            </div>
        </div>

        <!-- 导航模块 -->
        <div class="module" id="navigation-module">
            <div class="module-header">
                <h2>导航</h2>
            </div>
            <div class="navigation-content">
                <div class="destination-input">
                    <input type="text" id="destination-input" placeholder="输入目的地">
                    <button onclick="setDestination()">开始导航</button>
                </div>
                <div class="navigation-info">
                    <div class="nav-card">
                        <h3>目的地</h3>
                        <p id="nav-destination">未设置目的地</p>
                    </div>
                    <div class="nav-card">
                        <h3>预计时间</h3>
                        <p id="nav-eta">未知</p>
                    </div>
                    <div class="nav-card">
                        <h3>距离</h3>
                        <p id="nav-distance">未知</p>
                    </div>
                </div>
                <div class="map-placeholder">
                    <i class="fas fa-map"></i>
                    <p>地图显示区域</p>
                </div>
            </div>
            <div class="module-footer">
                <button class="back-btn-footer" onclick="showMainInterface()">
                    <i class="fas fa-arrow-left"></i> 返回
                </button>
            </div>
        </div>

        <!-- 车载应用模块 -->
        <div class="module" id="apps-module">
            <div class="module-header">
                <h2>车载应用</h2>
            </div>
            <div class="apps-grid">
                <div class="app-card">
                    <i class="fas fa-phone"></i>
                    <h3>电话</h3>
                </div>
                <div class="app-card">
                    <i class="fas fa-comment"></i>
                    <h3>消息</h3>
                </div>
                <div class="app-card">
                    <i class="fas fa-calendar"></i>
                    <h3>日历</h3>
                </div>
                <div class="app-card">
                    <i class="fas fa-weather-sunny"></i>
                    <h3>天气</h3>
                </div>
                <div class="app-card">
                    <i class="fas fa-camera"></i>
                    <h3>摄像头</h3>
                </div>
                <div class="app-card">
                    <i class="fas fa-gamepad"></i>
                    <h3>游戏</h3>
                </div>
            </div>
            <div class="module-footer">
                <button class="back-btn-footer" onclick="showMainInterface()">
                    <i class="fas fa-arrow-left"></i> 返回
                </button>
            </div>
        </div>

        <!-- 设置模块 -->
        <div class="module" id="settings-module">
            <div class="module-header">
                <h2>系统设置</h2>
            </div>
            <div class="settings-content">
                <div class="setting-section">
                    <h3>显示设置</h3>
                    <div class="setting-item">
                        <span>亮度</span>
                        <input type="range" min="0" max="100" value="80">
                    </div>
                    <div class="setting-item">
                        <span>主题</span>
                        <select>
                            <option>深色主题</option>
                            <option>浅色主题</option>
                            <option>自动</option>
                        </select>
                    </div>
                </div>
                <div class="setting-section">
                    <h3>声音设置</h3>
                    <div class="setting-item">
                        <span>系统音量</span>
                        <input type="range" min="0" max="100" value="70">
                    </div>
                    <div class="setting-item">
                        <span>语音提示</span>
                        <input type="checkbox" checked>
                    </div>
                </div>
                <div class="setting-section">
                    <h3>连接设置</h3>
                    <div class="setting-item">
                        <span>WiFi</span>
                        <button class="toggle-btn">开启</button>
                    </div>
                    <div class="setting-item">
                        <span>蓝牙</span>
                        <button class="toggle-btn">开启</button>
                    </div>
                </div>
            </div>
            <div class="module-footer">
                <button class="back-btn-footer" onclick="showMainInterface()">
                    <i class="fas fa-arrow-left"></i> 返回
                </button>
            </div>
        </div>

        <!-- 语音控制状态 -->
        <div class="voice-status" id="voice-status">
            <div class="voice-indicator-large">
                <i class="fas fa-microphone"></i>
                <p id="voice-status-text">正在聆听...</p>
                <button id="stop-recording-btn" class="stop-recording-btn">
                    <i class="fas fa-stop-circle"></i> 结束
                </button>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html> 